import{S as l,i,a as u}from"./assets/vendor-5401a4b0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();let c;document.querySelector(".loader-box");refs.formEl.addEventListener("submit",F);refs.btnLoadMore.addEventListener("click",m);refs.formEl.addEventListener("input",s=>{refs.formEl.elements.word.value.trim()&&(refs.btnEl.disabled=!1,refs.btnEl.classList.remove("disabled"))});async function m(){refs.galleryEl.insertAdjacentHTML("afterend",'<div class="loader-box "><span class="loader"></span></div>');const s=document.querySelector(".loader-box");currentPage+=1;const t=await d();renderImages(t.hits),s.remove(),c=new l(".gallery a",{captionsData:"alt",captionDelay:250}).refresh(),f()}async function F(s){s.preventDefault(),refs.formEl.insertAdjacentHTML("afterend",'<div class="loader-box "><span class="loader"></span></div>');const t=document.querySelector(".gallery");t&&t.remove();const a=document.querySelector(".loader-box");query=s.target.elements.word.value.trim(),currentPage=1;try{const o=await d();totalHits=o.totalHits;const e='<div class="gallery"></div>';refs.galleryEl.insertAdjacentHTML("afterbegin",e),query?o.hits.length>0?(a.remove(),renderImages(o.hits),f(),c=new l(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()):(a.remove(),i.show({timeout:5e3,position:"topCenter",color:"#d11804",messageColor:"white",titleColor:"#FFFFFF",iconColor:"#FFFFFF",message:"Sorry, there are no images matching your search query. Please try again!"}),refs.btnLoadMore.classList.add("hidden")):(a.remove(),i.show({timeout:5e3,position:"topCenter",color:"#d11804",messageColor:"white",titleColor:"#FFFFFF",iconColor:"#FFFFFF",message:"The field is empty. Please enter a word!"}),refs.btnLoadMore.classList.add("hidden"))}catch(o){i.show({timeout:5e3,position:"topCenter",color:"#d11804",messageColor:"white",titleColor:"#FFFFFF",iconColor:"#FFFFFF",message:o.message}),refs.btnLoadMore.classList.add("hidden")}refs.formEl.reset(),refs.btnEl.disabled=!0,refs.btnEl.classList.add("disabled")}async function d(){const s="https://pixabay.com",t="/api/",a=`?key=42153044-59e7d8487fc2c2f8c6f74878d&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${currentPage}&per_page=${PAGE_SIZE}`,o=`${s}${t}${a}`;return(await u.get(o)).data}function f(){Math.ceil(totalHits/PAGE_SIZE)<=currentPage?(refs.btnLoadMore.classList.add("hidden"),i.show({timeout:5e3,position:"topCenter",color:"#d11804",messageColor:"white",titleColor:"#FFFFFF",iconColor:"#FFFFFF",message:"We're sorry, but you've reached the end of search results."})):refs.btnLoadMore.classList.remove("hidden")}
//# sourceMappingURL=commonHelpers.js.map
